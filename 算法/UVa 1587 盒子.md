# å‰è¨€

ç¬¬ä¸€æ¬¡åˆ·é¢˜ï¼Œacçš„æ„Ÿè§‰çœŸçš„å¾ˆæ£’ï¼

# é¢˜ç›®

[é¢˜ç›®](https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&page=show_problem&category=448&problem=4462&mosmsg=Submission+received+with+ID+18943895)

å¤§æ„æ˜¯è¯´ï¼Œè¾“å…¥6ä¸ªé¢ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯ä¸ªé•¿æ–¹ä½“ã€‚

# æ€è·¯

æ ¹æ®é•¿æ–¹ä½“çš„ç‰¹è´¨æ¥åˆ¤æ–­ï¼Œæ¯”å¦‚è¯´6ä¸ªé¢ä¸­3ä¸ªé¢æ˜¯ç›¸äº’å¯¹åº”çš„ï¼Œåªæœ‰3æ¡ä¸åŒçš„è¾¹ç­‰ç­‰ã€‚

æˆ‘å°±çŸ¥é“æˆ‘è‚¯å®šä¼šå¡åœ¨è¾“å…¥è¾“å‡ºè¿™ä¸Šé¢ä¸€æ¬¡çš„ğŸ˜‚ã€‚

ç»™å¤§å®¶çœ‹çœ‹æˆ‘çš„ac...

![](http://odwv9d2u8.bkt.clouddn.com/17-3-11/68674093-file_1489244634561_ce53.png)

# å®ç°

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <math.h>

/**
 * ä¹ é¢˜3-10 ç›’å­
 * åˆ¤æ–­æ˜¯å¦æ˜¯é•¿æ–¹å½¢ï¼Œç”¨6ä¸ªé¢ï¼Œå…¶å®å°±æ˜¯3ä¸ªé¢
 */
struct Panel {
    int width;
    int height;
}panels[6];
int lines[12];

// åˆ¤æ–­æ˜¯å¦é¢ä¹‹é—´çš„é•¿å’Œå®½æ˜¯å¦ç›¸ç­‰
int isPanelsEquality(struct Panel panel1, struct Panel panel2) {
    if ((panel1.width == panel2.width && panel1.height == panel2.height) ||
        (panel1.width == panel2.height && panel1.height == panel2.width)) {
        return 1;
    }
    return 0;
}

// å¯¹è¾¹é•¿è¿›è¡Œæ’åº
int* Bublesort(int a[],int n)
{
    /* æ°”æ³¡æ³•è¦æ’åºnæ¬¡*/
    for(int j = 0; j < n - 1; j++) {
        for(int i = 0; i < n-j-1; i++) {
            if(a[i] > a[i+1]) {
                int k = a[i];
                a[i] = a[i+1];
                a[i+1] = k;
            }
        }
    }
    return a;
}

void caculate15() {
    int w, h;
    while (scanf("%d%d", &w, &h) != EOF) {
        panels[0].width = w;
        panels[0].height = h;
        lines[0] = w;
        lines[1] = h;

        for (int i = 1; i < 6; i++) {
            scanf("%d%d", &w, &h);
            panels[i].width = w;
            panels[i].height = h;
            lines[i*2] = w;
            lines[i*2+1] = h;
        }

        int hash[6];
        int visited[6];
        memset(hash, 0, sizeof(hash));
        memset(visited, 0, sizeof(visited));

        // é¢æ˜¯ä¸¤ä¸¤ç›¸ç­‰
        for (int i = 0; i < 6; i++) {
            if (visited[i] == 1) {
                continue;
            }
            visited[i] = 1;
            hash[i]++;

            for (int j = 0; j < 6; j++) {
                if (visited[j] != 0 || i == j) {
                    continue;
                }
                if (isPanelsEquality(panels[i], panels[j])) {
                    visited[j] = 1;
                    hash[i]++;
                    break;
                }
            }
        }

        // hashä¸­çš„ä¸ªæ•°å¿…ç„¶æ˜¯0æˆ–è€…2
        int result = 1;
        for (int i = 0; i < 6; i++) {
            if (visited[i] == 0 || (hash[i] != 2 && hash[i] != 0)) {
                result = 0;
                break;
            }
        }

        if (result) {
            // hashä¸­å­˜åœ¨3ä¸ª2ï¼Œè¡¨ç¤ºé¢ä¸¤ä¸¤å¯¹åº”
            int twocnt = 0;
            for (int i = 0; i < 6; i++) {
                if (hash[i] == 2) {
                    twocnt++;
                }
            }

            if (twocnt != 3) {
                result = 0;
            } else {
                result = 1;
            }

            if (result) {
                // è¿˜æœ‰é¢å’Œé¢ä¹‹é—´æ˜¯æœ‰è”ç³»çš„ï¼Œä¸€ä¸ªé¢å’Œå¦å¤–ä¸€ä¸ªé¢æ˜¯é€šè¿‡ä¸€æ¡çº¿è”ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å…±æœ‰4æ¡ç›¸ç­‰çš„ç›´çº¿
                // ç»Ÿè®¡12æ¡ç›´çº¿é‡Œæ˜¯å¦æœ‰4æ¡ç›¸ç­‰çš„ç›´çº¿
                int* line_hash = Bublesort(lines, 12);

                if (line_hash[0] != line_hash[3] || line_hash[4] != line_hash[7] || line_hash[8] != line_hash[11]) {
                    result = 0;
                }
            }
        }

        if (result) {
            printf("POSSIBLE\n");
        }
        else {
            printf("IMPOSSIBLE\n");
        }
    }
}

int main() {
    caculate15();
    return 0;
}

```

æ€è·¯å·²ç»è¯´çš„å¾ˆæ¸…æ¥šäº†ï¼Œçº¯cå†™ä»£ç çœŸçš„å¾ˆçƒ¦ï¼Œæ˜æ˜c++11å¯ä»¥å†™å¾—æ›´å¿«çš„ã€‚ä¸‹é¢è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯ç”¨çº¯cå†™çš„ï¼Œæ¥è‡ªå°æ¹¾åŒèƒï½

```c
void caculate16() {
    int w, h, pallet[6][2] = {};
    // ç¬¬ä¸€ä¸ªé¢
    while (scanf("%d%d", &w, &h) != EOF) {
        if (w < h)
            pallet[0][0] = w, pallet[0][1] = h;
        else
            pallet[0][0] = h, pallet[0][1] = w;

        // å‰©ä½™çš„é¢
        int i;
        for (i = 1; i < 6; i++) {
            scanf("%d%d", &w, &h);
            if (w < h)
                pallet[i][0] = w, pallet[i][1] = h;
            else
                pallet[i][0] = h, pallet[i][1] = w;
        }

        int used[6] = {}, ok = 1;
        memset(used, 0, sizeof(used));

        int side[3][2], count = 0; //3ä¸ªä¸åŒçš„é¢
        memset(side, 0, sizeof(side));

        // sideä¿å­˜ä¸‹æ¥ä¸‰ä¸ªé¢çš„2æ¡è¾¹
        for (i = 0; i < 6; i++) {
            if (used[i])
                continue;
            for (int j = i + 1; j < 6; j++)
                if (!used[j] && pallet[i][0] == pallet[j][0] && pallet[i][1] == pallet[j][1]) {
                    used[i] = used[j] = 1;
                    break;
                }
            if (!used[i])
                break;

            side[count][0] = pallet[i][0];
            side[count][1] = pallet[i][1];

            count++;
        }

        // ä¸å­˜åœ¨æ²¡æœ‰è®¿é—®è¿‡çš„é¢
        for (i = 0; i < 6; i++)
            if (!used[i])
                ok = 0;

        if (ok) {
            ok = 0;
            //ç”¨é‚£ 3 å¡Šå»æ‹šçœ‹çœ‹çŸ©å½¢çš„ ä¸Šæ–¹ä¸€ç‰‡ã€å´é‚Šå…©ç‰‡
            for (i = 0; i <= 1; i++) {
                for (int j = 0; j <= 1; j++) {
                    // åœ¨è¿™é‡Œå…ˆè¿›è¡Œå‡å®šç¬¬ä¸€ä¸ªé¢å’Œç¬¬äºŒä¸ªé¢ç›¸ç­‰ï¼ˆå› ä¸ºä¸¤ä¸ªé¢ä¹‹é—´å¿…ç„¶å­˜åœ¨ç›¸ç­‰çš„è¾¹ï¼‰
                    if (side[0][i] == side[1][j]) {
                        // åŒæ ·çš„æƒ…å†µ
                        if (side[0][!i] == side[2][0] && side[2][1] == side[1][!j])
                            ok = 1;
                        else if (side[0][!i] == side[2][1] && side[2][0] == side[1][!j])
                            ok = 1;
                    }
                }
            }
        }

        puts(ok ? "POSSIBLE" : "IMPOSSIBLE");
    }
}

```

å¥½å§ï¼Œæˆ‘è¦å¼€å§‹ç”¨c++11å¼€å§‹å†™äº†ï¼Œæ—¢æ–¹ä¾¿ç”±å¯ä»¥å­¦ä¹ c++11ã€‚